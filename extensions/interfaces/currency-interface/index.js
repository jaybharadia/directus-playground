import{defineInterface as e}from"@directus/extensions-sdk";import{defineComponent as t,computed as n,ref as r,resolveComponent as a,openBlock as i,createBlock as o,createElementBlock as u,createElementVNode as s,normalizeClass as d,createVNode as l,toDisplayString as c,pushScopeId as f,popScopeId as p}from"vue";var m=t({props:{value:{type:[String,Number],default:null},type:{type:String,default:null},disabled:{type:Boolean,default:!1},prefix:{type:String,default:""},suffix:{type:String,default:""}},emits:["input"],setup(e,{emit:t}){const a=new Intl.NumberFormat;return{formattedValue:n((()=>{var t,n;let r=e.value;return"string"==typeof r&&(r=parseFloat(r),isNaN(r))?null:(null!==(t=e.prefix)&&void 0!==t?t:"")+a.format(r)+(null!==(n=e.suffix)&&void 0!==n?n:"")})),focus:r(!1),inputType:n((()=>["bigInteger","integer","float","decimal"].includes(e.type)?"number":"text")),handleChange:function(e){t("input",e)}}}});const y=e=>(f("data-v-64969d30"),e=e(),p(),e),v={key:1},g={class:"formatted-currency"},b=y((()=>s("div",{class:"currency-interface-footer"},null,-1)));var x=[],h=[];!function(e,t){if(e&&"undefined"!=typeof document){var n,r=!0===t.prepend?"prepend":"append",a=!0===t.singleTag,i="string"==typeof t.container?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(a){var o=x.indexOf(i);-1===o&&(o=x.push(i)-1,h[o]={}),n=h[o]&&h[o][r]?h[o][r]:h[o][r]=u()}else n=u();65279===e.charCodeAt(0)&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function u(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),t.attributes)for(var n=Object.keys(t.attributes),a=0;a<n.length;a++)e.setAttribute(n[a],t.attributes[n[a]]);var o="prepend"===r?"afterbegin":"beforeend";return i.insertAdjacentElement(o,e),e}}("\n.currency-interface[data-v-64969d30] {\n\tposition: relative;\n}\n.currency-interface:not(.focus) .v-input[data-v-64969d30] {\n\t--v-input-color: transparent;\n}\n.formatted-currency[data-v-64969d30] {\n\tposition: absolute;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n\tpadding-left: 18px;\n\tcursor: text;\n\tpointer-events: none;\n\ttransition: 0.2s ease-in-out;\n}\n.currency-interface.focus .formatted-currency[data-v-64969d30] {\n\ttop: 100%;\n\ttransform: translateY(0%);\n\tmargin-top: 4px;\n\tfont-size: 0.8em;\n\tcolor: var(--foreground-subdued);\n}\n.currency-interface-footer[data-v-64969d30] {\n\theight: 28px;\n}\n",{}),m.render=function(e,t,n,r,f,p){const m=a("v-input");return e.disabled?(i(),o(m,{key:0,"model-value":e.formattedValue,disabled:""},null,8,["model-value"])):(i(),u("div",v,[s("div",{class:d(["currency-interface",{focus:e.focus}])},[l(m,{"model-value":e.value,type:e.inputType,onFocus:t[0]||(t[0]=t=>e.focus=!0),onBlur:t[1]||(t[1]=t=>e.focus=!1),"onUpdate:modelValue":t[2]||(t[2]=t=>e.handleChange(t))},null,8,["model-value","type"]),s("div",g,c(e.formattedValue),1)],2),b]))},m.__scopeId="data-v-64969d30",m.__file="src/interface.vue";var S=e({id:"currency",name:"Currency",icon:"paid",description:"Interface for currency",component:m,options:[{field:"prefix",name:"Prefix",type:"string",meta:{width:"half",interface:"system-input-translated-string",options:{trim:!1}}},{field:"suffix",name:"Suffix",type:"string",meta:{width:"half",interface:"system-input-translated-string",options:{trim:!1}}}],types:["integer","bigInteger","float","decimal","string"]});export{S as default};
